<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Bookings Service API (bookings_service/app.py) &#8212; Smart Meeting Room Backend v1 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=d1102ebc" />
    <link rel="stylesheet" type="text/css" href="_static/basic.css?v=686e5160" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=27fed22d" />
    <script src="_static/documentation_options.js?v=5cb08e4e"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Bookings Database Helpers (bookings_service/database.py)" href="bookings_database.html" />
    <link rel="prev" title="Rooms Database Helpers (room_service/database.py)" href="rooms_database.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="bookings-service-api-bookings-service-app-py">
<h1>Bookings Service API (bookings_service/app.py)<a class="headerlink" href="#bookings-service-api-bookings-service-app-py" title="Link to this heading">¶</a></h1>
<p id="module-bookings_service.app">This is the file that handles all API routes for bookings.
It calls database fcts from database.py that is in same folder. It focuses on
input validation, checking room availability, and shaping JSON responses.</p>
<dl class="py function">
<dt class="sig sig-object py" id="bookings_service.app.cancel_booking_route">
<span class="sig-prename descclassname"><span class="pre">bookings_service.app.</span></span><span class="sig-name descname"><span class="pre">cancel_booking_route</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">booking_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#bookings_service.app.cancel_booking_route" title="Link to this definition">¶</a></dt>
<dd><p>This fct cancels a booking by putting its status as ‘cancelled’.</p>
<p>Parameters
booking_id : int</p>
<blockquote>
<div><p>The booking to cancel.</p>
</div></blockquote>
<p>Returns
tuple</p>
<blockquote>
<div><p>Confirmation message and status code.</p>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bookings_service.app.check_room_availability_route">
<span class="sig-prename descclassname"><span class="pre">bookings_service.app.</span></span><span class="sig-name descname"><span class="pre">check_room_availability_route</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">room_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#bookings_service.app.check_room_availability_route" title="Link to this definition">¶</a></dt>
<dd><p>This fct checks if a room is available for the given date/time.</p>
<p>The query needs these:
date : YYYY-MM-DD
start_time : HH:MM
end_time : HH:MM</p>
<p>Parameters
room_id : int</p>
<blockquote>
<div><p>The room being checked.</p>
</div></blockquote>
<p>Returns
tuple</p>
<blockquote>
<div><p>Availability result and status code.</p>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bookings_service.app.get_bookings_for_user_route">
<span class="sig-prename descclassname"><span class="pre">bookings_service.app.</span></span><span class="sig-name descname"><span class="pre">get_bookings_for_user_route</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#bookings_service.app.get_bookings_for_user_route" title="Link to this definition">¶</a></dt>
<dd><p>This fct returns all bookings that were made by a specific user.</p>
<p>Cancelled bookings are included too btw.</p>
<p>Parameters
user_id : int</p>
<blockquote>
<div><p>The user whose bookings are requested.</p>
</div></blockquote>
<p>Returns
tuple</p>
<blockquote>
<div><p>A list of bookings and status 200.</p>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bookings_service.app.list_all_bookings">
<span class="sig-prename descclassname"><span class="pre">bookings_service.app.</span></span><span class="sig-name descname"><span class="pre">list_all_bookings</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#bookings_service.app.list_all_bookings" title="Link to this definition">¶</a></dt>
<dd><p>This fct returns all bookings in the system.</p>
<p>It gets all the bookings from the db, converts each row to a dict, and returns them as JSON.</p>
<p>Returns
tuple</p>
<blockquote>
<div><p>A list of bookings and status code 200.</p>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bookings_service.app.make_booking_route">
<span class="sig-prename descclassname"><span class="pre">bookings_service.app.</span></span><span class="sig-name descname"><span class="pre">make_booking_route</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#bookings_service.app.make_booking_route" title="Link to this definition">¶</a></dt>
<dd><p>This fct handles the creation of a new booking.</p>
<p>Expected JSON
user_id : int</p>
<blockquote>
<div><p>The user making the booking.</p>
</div></blockquote>
<dl class="simple">
<dt>room_id<span class="classifier">int</span></dt><dd><p>The room being booked.</p>
</dd>
<dt>date<span class="classifier">str</span></dt><dd><p>Booking date in YYYY-MM-DD format.</p>
</dd>
<dt>start_time<span class="classifier">str</span></dt><dd><p>Start time in HH:MM format.</p>
</dd>
<dt>end_time<span class="classifier">str</span></dt><dd><p>End time in HH:MM format.</p>
</dd>
</dl>
<p>Returns
tuple</p>
<blockquote>
<div><p>A confirmation message and status code.</p>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bookings_service.app.require_fields">
<span class="sig-prename descclassname"><span class="pre">bookings_service.app.</span></span><span class="sig-name descname"><span class="pre">require_fields</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fields</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#bookings_service.app.require_fields" title="Link to this definition">¶</a></dt>
<dd><p>This fct checks that all required fields exist in the input JSON.</p>
<p>Parameters
data : dict</p>
<blockquote>
<div><p>The parsed request body.</p>
</div></blockquote>
<dl class="simple">
<dt>fields<span class="classifier">list of str</span></dt><dd><p>The list of fields that must be present.</p>
</dd>
</dl>
<p>Returns
str or None</p>
<blockquote>
<div><p>A message listing missing fields, or None if all are there.</p>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bookings_service.app.update_booking_route">
<span class="sig-prename descclassname"><span class="pre">bookings_service.app.</span></span><span class="sig-name descname"><span class="pre">update_booking_route</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">booking_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#bookings_service.app.update_booking_route" title="Link to this definition">¶</a></dt>
<dd><p>This fct updates an existing booking.</p>
<p>Expected JSON
date : str</p>
<blockquote>
<div><p>New date.</p>
</div></blockquote>
<dl class="simple">
<dt>start_time<span class="classifier">str</span></dt><dd><p>New start time.</p>
</dd>
<dt>end_time<span class="classifier">str</span></dt><dd><p>New end time.</p>
</dd>
<dt>room_id<span class="classifier">int</span></dt><dd><p>Room to update for.</p>
</dd>
</dl>
<p>Returns
tuple</p>
<blockquote>
<div><p>A message and status code.</p>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bookings_service.app.valid_date">
<span class="sig-prename descclassname"><span class="pre">bookings_service.app.</span></span><span class="sig-name descname"><span class="pre">valid_date</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#bookings_service.app.valid_date" title="Link to this definition">¶</a></dt>
<dd><p>This fct performs a basic YYYY-MM-DD validation.</p>
<p>Parameters
d : str</p>
<blockquote>
<div><p>A date string in the form YYYY-MM-DD.</p>
</div></blockquote>
<p>Returns
bool</p>
<blockquote>
<div><p>True if valid, False otherwise.</p>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bookings_service.app.valid_time">
<span class="sig-prename descclassname"><span class="pre">bookings_service.app.</span></span><span class="sig-name descname"><span class="pre">valid_time</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#bookings_service.app.valid_time" title="Link to this definition">¶</a></dt>
<dd><p>This fct does a simple HH:MM validation to check if a time is well-formatted.</p>
<p>Parameters
t : str</p>
<blockquote>
<div><p>A time string in the form HH:MM.</p>
</div></blockquote>
<p>Returns
bool</p>
<blockquote>
<div><p>True if valid, False otherwise.</p>
</div></blockquote>
</dd></dl>

</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Smart Meeting Room Backend</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="users_app.html">Users Service API (users_service/app.py)</a></li>
<li class="toctree-l1"><a class="reference internal" href="users_database.html">Users Database Helpers (users_service/database.py)</a></li>
<li class="toctree-l1"><a class="reference internal" href="rooms_app.html">Rooms Service API (room_service/app.py)</a></li>
<li class="toctree-l1"><a class="reference internal" href="rooms_database.html">Rooms Database Helpers (room_service/database.py)</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Bookings Service API (bookings_service/app.py)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#bookings_service.app.cancel_booking_route"><code class="docutils literal notranslate"><span class="pre">cancel_booking_route()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#bookings_service.app.check_room_availability_route"><code class="docutils literal notranslate"><span class="pre">check_room_availability_route()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#bookings_service.app.get_bookings_for_user_route"><code class="docutils literal notranslate"><span class="pre">get_bookings_for_user_route()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#bookings_service.app.list_all_bookings"><code class="docutils literal notranslate"><span class="pre">list_all_bookings()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#bookings_service.app.make_booking_route"><code class="docutils literal notranslate"><span class="pre">make_booking_route()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#bookings_service.app.require_fields"><code class="docutils literal notranslate"><span class="pre">require_fields()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#bookings_service.app.update_booking_route"><code class="docutils literal notranslate"><span class="pre">update_booking_route()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#bookings_service.app.valid_date"><code class="docutils literal notranslate"><span class="pre">valid_date()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#bookings_service.app.valid_time"><code class="docutils literal notranslate"><span class="pre">valid_time()</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="bookings_database.html">Bookings Database Helpers (bookings_service/database.py)</a></li>
<li class="toctree-l1"><a class="reference internal" href="reviews_app.html">Reviews Service API (reviews_service/app.py)</a></li>
<li class="toctree-l1"><a class="reference internal" href="reviews_database.html">Reviews Database Helpers (reviews_service/database.py)</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="rooms_database.html" title="previous chapter">Rooms Database Helpers (room_service/database.py)</a></li>
      <li>Next: <a href="bookings_database.html" title="next chapter">Bookings Database Helpers (bookings_service/database.py)</a></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2025, Nour Shammaa and Riwa El Kari.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.1.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="_sources/bookings_app.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>