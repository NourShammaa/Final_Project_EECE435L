<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Reviews Service API (reviews_service/app.py) &#8212; Smart Meeting Room Backend v1 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=d1102ebc" />
    <link rel="stylesheet" type="text/css" href="_static/basic.css?v=686e5160" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=27fed22d" />
    <script src="_static/documentation_options.js?v=5cb08e4e"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Reviews Database Helpers (reviews_service/database.py)" href="reviews_database.html" />
    <link rel="prev" title="Bookings Database Helpers (bookings_service/database.py)" href="bookings_database.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="reviews-service-api-reviews-service-app-py">
<h1>Reviews Service API (reviews_service/app.py)<a class="headerlink" href="#reviews-service-api-reviews-service-app-py" title="Link to this heading">¶</a></h1>
<p id="module-reviews_service.app">This is the file that handles all API routes for reviews.
It uses db functions from database.py which is  in the same folder, validates user input,
and then returns JSON responses.</p>
<dl class="py function">
<dt class="sig sig-object py" id="reviews_service.app.delete_review_route">
<span class="sig-prename descclassname"><span class="pre">reviews_service.app.</span></span><span class="sig-name descname"><span class="pre">delete_review_route</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">review_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#reviews_service.app.delete_review_route" title="Link to this definition">¶</a></dt>
<dd><p>Delete a review forever (no take-backs).</p>
<p>Parameters
review_id : int</p>
<blockquote>
<div><p>The ID of the review to remove.</p>
</div></blockquote>
<p>Returns
tuple</p>
<blockquote>
<div><p>A short confirmation message and status 200.</p>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="reviews_service.app.flag_review_route">
<span class="sig-prename descclassname"><span class="pre">reviews_service.app.</span></span><span class="sig-name descname"><span class="pre">flag_review_route</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">review_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#reviews_service.app.flag_review_route" title="Link to this definition">¶</a></dt>
<dd><p>Mark a review as flagged so it can be reviewed by someone human.</p>
<p>Parameters
review_id : int</p>
<blockquote>
<div><p>The ID of the review being flagged.</p>
</div></blockquote>
<p>Returns
tuple</p>
<blockquote>
<div><p>A confirmation message and status 200.</p>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="reviews_service.app.list_reviews_for_room">
<span class="sig-prename descclassname"><span class="pre">reviews_service.app.</span></span><span class="sig-name descname"><span class="pre">list_reviews_for_room</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">room_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#reviews_service.app.list_reviews_for_room" title="Link to this definition">¶</a></dt>
<dd><p>Get all reviews for a room, newest first.</p>
<p>Parameters
room_id : int</p>
<blockquote>
<div><p>The ID of the room for which reviews are requested.</p>
</div></blockquote>
<p>Returns
tuple</p>
<blockquote>
<div><p>A JSON list of reviews and a 200 status code.</p>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="reviews_service.app.require_fields">
<span class="sig-prename descclassname"><span class="pre">reviews_service.app.</span></span><span class="sig-name descname"><span class="pre">require_fields</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fields</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#reviews_service.app.require_fields" title="Link to this definition">¶</a></dt>
<dd><p>This fct will be used to check if the required fields exist in the incoming JSON.
It is there to avoid redundancy.</p>
<p>Parameters
data : dict</p>
<blockquote>
<div><p>The parsed JSON body from the request.</p>
</div></blockquote>
<dl class="simple">
<dt>fields<span class="classifier">list of str</span></dt><dd><p>The field names that must be present.</p>
</dd>
</dl>
<p>Returns
str or None</p>
<blockquote>
<div><p>A message listing missing fields, or None if everything is present.</p>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="reviews_service.app.submit_review_route">
<span class="sig-prename descclassname"><span class="pre">reviews_service.app.</span></span><span class="sig-name descname"><span class="pre">submit_review_route</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#reviews_service.app.submit_review_route" title="Link to this definition">¶</a></dt>
<dd><p>Create a new review.</p>
<p>Expected JSON
user_id : int</p>
<blockquote>
<div><p>Who wrote the review.</p>
</div></blockquote>
<dl class="simple">
<dt>room_id<span class="classifier">int</span></dt><dd><p>Which room is being reviewed.</p>
</dd>
<dt>rating<span class="classifier">int</span></dt><dd><p>A number from 0 to 10.</p>
</dd>
<dt>comment<span class="classifier">str</span></dt><dd><p>A short message expressing the user’s thoughts.</p>
</dd>
</dl>
<p>Returns
tuple</p>
<blockquote>
<div><p>JSON containing a success message and the new review_id,
or an error message with an appropriate status code.</p>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="reviews_service.app.update_review_route">
<span class="sig-prename descclassname"><span class="pre">reviews_service.app.</span></span><span class="sig-name descname"><span class="pre">update_review_route</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">review_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#reviews_service.app.update_review_route" title="Link to this definition">¶</a></dt>
<dd><p>Update the rating and comment of an existing review.</p>
<p>Expected JSON
rating : int</p>
<blockquote>
<div><p>Updated score from 0 to 10.</p>
</div></blockquote>
<dl class="simple">
<dt>comment<span class="classifier">str</span></dt><dd><p>Updated written feedback.</p>
</dd>
</dl>
<p>Returns
tuple</p>
<blockquote>
<div><p>JSON confirmation and a 200 status code,
or an error if validation fails.</p>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="reviews_service.app.valid_rating">
<span class="sig-prename descclassname"><span class="pre">reviews_service.app.</span></span><span class="sig-name descname"><span class="pre">valid_rating</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">r</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#reviews_service.app.valid_rating" title="Link to this definition">¶</a></dt>
<dd><p>Check that the rating is an integer between 0 and 10.</p>
<p>Parameters
r : any</p>
<blockquote>
<div><p>The rating value provided.</p>
</div></blockquote>
<p>Returns
bool</p>
<blockquote>
<div><p>True if valid, False otherwise.</p>
</div></blockquote>
</dd></dl>

</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Smart Meeting Room Backend</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="users_app.html">Users Service API (users_service/app.py)</a></li>
<li class="toctree-l1"><a class="reference internal" href="users_database.html">Users Database Helpers (users_service/database.py)</a></li>
<li class="toctree-l1"><a class="reference internal" href="rooms_app.html">Rooms Service API (room_service/app.py)</a></li>
<li class="toctree-l1"><a class="reference internal" href="rooms_database.html">Rooms Database Helpers (room_service/database.py)</a></li>
<li class="toctree-l1"><a class="reference internal" href="bookings_app.html">Bookings Service API (bookings_service/app.py)</a></li>
<li class="toctree-l1"><a class="reference internal" href="bookings_database.html">Bookings Database Helpers (bookings_service/database.py)</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Reviews Service API (reviews_service/app.py)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#reviews_service.app.delete_review_route"><code class="docutils literal notranslate"><span class="pre">delete_review_route()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#reviews_service.app.flag_review_route"><code class="docutils literal notranslate"><span class="pre">flag_review_route()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#reviews_service.app.list_reviews_for_room"><code class="docutils literal notranslate"><span class="pre">list_reviews_for_room()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#reviews_service.app.require_fields"><code class="docutils literal notranslate"><span class="pre">require_fields()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#reviews_service.app.submit_review_route"><code class="docutils literal notranslate"><span class="pre">submit_review_route()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#reviews_service.app.update_review_route"><code class="docutils literal notranslate"><span class="pre">update_review_route()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#reviews_service.app.valid_rating"><code class="docutils literal notranslate"><span class="pre">valid_rating()</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="reviews_database.html">Reviews Database Helpers (reviews_service/database.py)</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="bookings_database.html" title="previous chapter">Bookings Database Helpers (bookings_service/database.py)</a></li>
      <li>Next: <a href="reviews_database.html" title="next chapter">Reviews Database Helpers (reviews_service/database.py)</a></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2025, Nour Shammaa and Riwa El Kari.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.1.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="_sources/reviews_app.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>